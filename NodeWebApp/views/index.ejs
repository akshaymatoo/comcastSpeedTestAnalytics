<!DOCTYPE html>
<!--[if lt IE 7]>      <html lang="en" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html lang="en" class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html lang="en" class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html lang="en" class="no-js"> <!--<![endif]-->
    <head>
        
        <style type="text/css">
            th {
                background-color: #3c8dbc !important;
                color: white;
            }
        </style>

        <!-- Mobile Specific Meta -->
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- Always force latest IE rendering engine -->
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <!-- Meta Keyword -->
        <meta name="keywords" content="one page, business template, single page, onepage, responsive, parallax, creative, business, html5, css3, css3 animation">
        <!-- meta character set -->
        <meta charset="utf-8">

        <!-- Site Title -->
        <title>Comcast Speed Analytics</title>
        
        <!--
        Google Fonts
        ============================================= -->
        <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700" rel="stylesheet" type="text/css">
		
        <!--
        CSS
        ============================================= -->
        <!-- Fontawesome -->
        <link rel="stylesheet" href="css/font-awesome.min.css">
        <!-- Bootstrap -->
        <link rel="stylesheet" href="css/bootstrap.min.css">
        <!-- Fancybox -->
        <link rel="stylesheet" href="css/jquery.fancybox.css">
        <!-- owl carousel -->
        <link rel="stylesheet" href="css/owl.carousel.css">
        <!-- Animate -->
        <link rel="stylesheet" href="css/animate.css">
        <!-- Main Stylesheet -->
        <link rel="stylesheet" href="css/main.css">
        <!-- Main Responsive -->
        <link rel="stylesheet" href="css/responsive.css">
		
		
		<!-- Modernizer Script for old Browsers -->
        <script src="js/vendor/modernizr-2.6.2.min.js"></script>
		
    </head>
	
    <body>

        <!--
        Fixed Navigation
        ==================================== -->
        <header id="navigation" class="navbar-fixed-top">
            <div class="container">

                <div class="navbar-header">
                    <!-- responsive nav button -->
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <!-- /responsive nav button -->

                   

                    </div>

                    <!-- main nav -->
                    <nav class="collapse navigation navbar-collapse navbar-right" role="navigation">
                        <ul id="nav" class="nav navbar-nav">
                            <li class="current"><a href="#home">Home</a></li>
                            <li><a href="#count">Chart</a></li>  
                            <li><a href="#pricing">Details</a></li>
                             <li><a href="#quotes">Inspiration</a></li>
                            <li><a href="#contact">Code</a></li> 
                        </ul>
                    </nav>
                    <!-- /main nav -->
                </div>

            </div>
        </header>
        <!--
        End Fixed Navigation
        ==================================== -->
        <!--
        #about
        ========================== -->
        <section id="home" style="background-color: #31708F;">
            <div class="container">
                <div class="row">
                    <br/><br/>
                    
                    <div class="section-title text-center wow fadeInUp"> 
                   
                    </div>
                
                    <div class="about-us text-center wow fadeInDown">
                        <img src="img/about.png" alt="About Us" class="img-responsive">   
                    </div>
                   
                </div>
            </div>
        </section>
        <!--
        End #about
        ========================== -->
        

        <!--
        #count
        ========================== -->
        
        <section id="count">
            <div class="container">
                <div class="row">
                 <div class="section-title text-center wow fadeInUp"> 
                    <h1>Comcast Speed Test Analytics</h1>
                </div>
                     
                 
                    <div class="counter-section clearfix">

                        <div class="col-md-3 col-sm-6 col-xs-12 wow fadeInLeft" data-wow-delay="0.5s">
                            <div class="fact-item text-center">
                                <div class="fact-icon">
                                    <i class="fa fa-download fa-lg"></i>
                                </div>
                                <span id='avgDownload' data-to="53">0</span>
                                <p>Average Download Speed (Mbps)</p>
                            </div>
                        </div>
                        
                        <div class="col-md-3 col-sm-6 col-xs-12 wow fadeInLeft" data-wow-delay="0.8s">
                            <div class="fact-item text-center">
                                <div class="fact-icon">
                                    <i class="fa fa-upload fa-lg"></i>                                    
                                </div>
                                <span id='avgUpload'  data-to="11">0</span>
                                <p>Average Upload Speed (Mbps)</p>
                            </div>
                        </div>
                        
                        <div class="col-md-3 col-sm-6 col-xs-12 wow fadeInLeft" data-wow-delay="1.1s">
                            <div class="fact-item text-center last">
                                <div class="fact-icon">
                                    <i class="fa fa-exchange fa-lg"></i>
                                </div>
                                <span id='avgPing' data-to="150">0</span>
                                <p>Avd Ping Time (ms)</p>
                            </div>
                        </div>
                        
                        <div class="col-md-3 col-sm-6 col-xs-12 wow fadeInLeft" data-wow-delay="1.3s">
                            <div class="fact-item text-center last">
                                <div class="fact-icon">
                                    <i class="fa fa-download fa-lg"></i>
                                </div>
                                <span data-to="150">0</span>  
                                <p> Expected Download Speed (Mbps)</p>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </section>
        <!--
        End #count
        ========================== -->

        <!--
        #about-us
        ========================== -->
        <section id="about-us">
            <div class="container">
                <div class="row">
                
                  <div class="row">
                        <div class="col-lg-2">
                            <p>UTC Start Date: <input type="text" id="historyStartDatepicker"></p>
                        </div>
                        <div class="col-lg-2">
                            <p>UTC End Date: <input type="text" id="historyEndDatepicker"></p>
                        </div>
                        <div class="col-lg-2">
                            <button class="btn btn-info btn-flat" type="button" id="btnGenerateReport">Go!</button>
                        </div>
                    </div>  
                    <hr/>
                     
                     <div id="container" style="width:100%"></div>
 
                </div>
            </div>
        </section>
        <!--
        End #about-us
        ========================== -->
 

        <!--
        #pricing
        ========================== -->
        <section id="pricing">
            <div class="container">
                <div class="row">

                    <div class="section-title text-center wow fadeInUp">
                        <h2>Details</h2>    
                        <!--<p>Curabitur arcu erat, accumsan id imperdiet et, porttitor at sem. Mauris blandit aliquet elit, eget tincidunt.</p>-->
                    </div>

                        <div>
                            <table class="table table-striped table-bordered table-hover" id="dataTable">
                            <tr>
                                <th>Date Time</th>
                                <th>Download Speed</th>
                                <th>Upload Speed</th>
                                <th>Server</th>
                                <th>Location</th>
                                <th>Country</th>
                                <th>Ping</th>
                            </tr>
                            
                             <%
        tabular.forEach(function(el, index) {  %>
        <tr>
        <td>  <%=  new Date( el.dateTime._ ) %></td>
        <td>  <%=  el.downloadSpeed._ %></td>
         <td> <%=  el.uploadSpeed._ %></td>
         <td> <%=  el.server._ %></td>
         <td> <%=  el.location._ %></td>
         <td> <%=  el.country._ %></td>
         <td> <%=  el.ping._ %> </td>
          </tr> 
      <%  });  %>  
                            </table>
                            
                        </div>

                    <!--<div class="col-md-3 col-sm-6 col-xs-12 wow fadeInUp">
                        <div class="pricing-table text-center">
                            <div class="price">
                                <span class="plan">Basic</span>
                                <span class="value"><small>$</small><strong>19</strong>/MO</span>
                            </div>
                            <ul class="text-center">
                                <li>Feature N0 1</li>
                                <li>Feature N0 2</li>
                                <li>Feature N0 3</li>
                                <li>Feature N0 4</li>
                            </ul>
                            <a href="#" class="btn btn-price">Buy Now</a>
                        </div>
                    </div>

                    <div class="col-md-3 col-sm-6 col-xs-12 wow fadeInUp" data-wow-delay="0.3s">
                        <div class="pricing-table text-center">
                            <div class="price">
                                <span class="plan">Premium</span>
                                <span class="value"><small>$</small><strong>29</strong>/MO</span>
                            </div>
                            <ul class="text-center">
                                <li>Feature N0 1</li>
                                <li>Feature N0 2</li>
                                <li>Feature N0 3</li>
                                <li>Feature N0 4</li>
                            </ul>
                            <a href="#" class="btn btn-price">Buy Now</a>
                        </div>
                    </div>

                    <div class="col-md-3 col-sm-6 col-xs-12 wow fadeInUp" data-wow-delay="0.6s">
                        <div class="pricing-table text-center">
                            <div class="price">
                                <span class="plan">Pro</span>
                                <span class="value"><small>$</small><strong>39</strong>/MO</span>
                            </div>
                            <ul class="text-center">
                                <li>Feature N0 1</li>
                                <li>Feature N0 2</li>
                                <li>Feature N0 3</li>
                                <li>Feature N0 4</li>
                            </ul>
                            <a href="#" class="btn btn-price">Buy Now</a>
                        </div>
                    </div>

                    <div class="col-md-3 col-sm-6 col-xs-12 wow fadeInUp" data-wow-delay="0.9s">
                        <div class="pricing-table text-center">
                            <div class="price">
                                <span class="plan">Platinum</span>
                                <span class="value"><small>$</small><strong>49</strong>/MO</span>
                            </div>
                            <ul class="text-center">
                                <li>Feature N0 1</li>
                                <li>Feature N0 2</li>
                                <li>Feature N0 3</li>
                                <li>Feature N0 4</li>
                            </ul>
                            <a href="#" class="btn btn-price">Buy Now</a>
                        </div>
                    </div>-->
                </div>
               
            </div>
        </section>
        <!--
        End #pricing
        ========================== -->

   <!--
        #quotes
        ========================== -->
        <section id="quotes">
            <div class="container">
                <div class="row wow zoomIn">
                    <div class="col-lg-12">
                        <div class="call-to-action text-center">
                            <p>“Data and analytics are driving new types of insights that empower individuals, organizations and industries to achieve far more than anyone thought possible. So I thought I will user this power and drive interesting alanytics for internet connection at my home provided by Comcast.”</p>
                            <p>
                                @a_comcast_user really inspired me to make such website. <a href='https://www.reddit.com/r/technology/comments/43fi39/i_set_up_my_raspberry_pi_to_automatically_tweet/' target='_blank'> Link </a>
                            </p>
                           
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!--
        End #quotes
        ========================== -->

         

        <!--
        #contact
        ========================== -->
         <section id="contact">
            <div class="container">
                <div class="row">

                <div class="row">
                    <div class="col-md-12 wow fadeInUp">
                        <div class="special-plan text-center">
                            <p>Check the code and process on GitHub</p>
                            <a href="#" class="btn btn-blue">Go to GitHub</a>
                        </div>
                    </div>
                </div>

                </div>
            </div>
        </section> 
        <!--
        End #contact
        ========================== -->

        <!--
        #footer
        ========================== -->
        <footer id="footer" class="text-center">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">

                        <!--<div class="footer-logo wow fadeInDown">
                            <img src="img/logo.png" alt="logo">
                        </div>-->

                        <!--<div class="footer-social wow fadeInUp">
                            <h3>We are social</h3>
                            <ul class="text-center list-inline">
                                <li><a href="http://goo.gl/RqhEjP"><i class="fa fa-facebook fa-lg"></i></a></li>
                                <li><a href="http://goo.gl/hUfpSB"><i class="fa fa-twitter fa-lg"></i></a></li>
                                <li><a href="http://goo.gl/r4xzR4"><i class="fa fa-google-plus fa-lg"></i></a></li>
                                <li><a href="http://goo.gl/k9zAy5"><i class="fa fa-dribbble fa-lg"></i></a></li>
                            </ul>
                        </div>-->

                        <div class="copyright">
                           
                            <p>Thank you to Themefisher to develop and open source this theme. Theme by <a href="http://graphberry.com">GraphBerry.com</a> Developed by <a target="_blank" href="http://www.themefisher.com">Themefisher</a></p>
                        </div>

                    </div>
                </div>
            </div>
        </footer>
        
        
        <div style="display:none" id="historyEndDate"><%= historyEndDate %></div>
        <div style="display:none" id="historyStartDate"><%= historyStartDate %></div>
    
        <!--
        End #footer
        ========================== -->


        <!--
        JavaScripts
        ========================== -->
        
        <!-- main jQuery -->
        <script src="js/vendor/jquery-1.11.1.min.js"></script>
        <!-- Bootstrap -->
        <script src="js/bootstrap.min.js"></script>
        <!-- jquery.nav -->
        <script src="js/jquery.nav.js"></script>
        <!-- Portfolio Filtering -->
        <script src="js/jquery.mixitup.min.js"></script>
        <!-- Fancybox -->
        <script src="js/jquery.fancybox.pack.js"></script>
        <!-- Parallax sections -->
        <script src="js/jquery.parallax-1.1.3.js"></script>
        <!-- jQuery Appear -->
        <script src="js/jquery.appear.js"></script>
        <!-- countTo -->
        <script src="js/jquery-countTo.js"></script>
        <!-- owl carousel -->
        <script src="js/owl.carousel.min.js"></script>
        <!-- WOW script -->
        <script src="js/wow.min.js"></script>
        <!-- theme custom scripts -->
        <script src="js/main.js"></script>
        
        
<script type="text/javascript">

        $(document).ready(function() {
        
    
        
        $("#btnGenerateReport").click(function(){
                    window.open("/?historyStartDate="+$('#historyStartDatepicker').val()+"&historyEndDate=" + $('#historyEndDatepicker').val(), '_self', false)
        })
        
            $('#datatable').DataTable( {
                scrollY:        '50vh',
                scrollCollapse: true,
                paging:         false,
                order: [[ 0, "desc" ]]
                 
            } );
        } );
        
        
        var dateTime = [];
        var uploadSpeed = [];
        var downloadSpeed = [];
        var actualDownloadSpeed = [];
        var actualUploadSpeed = [];
        var totalDownload = 0;
         var totalUpload = 0;
         var totalPing = 0;
           var count = 0;
 
            
         <%
        charts.forEach(function(el, index) {  %>
         dateTime.push( new Date( ' <%=  el.dateTime._ %>' ));
             uploadSpeed.push(<%=  el.uploadSpeed._ %>);
             downloadSpeed.push(<%=  el.downloadSpeed._ %>);
             actualDownloadSpeed.push(105);
             actualUploadSpeed.push(10);
         //    ping.push(<%=  el.ping._ %>); 
         
           if(!isNaN(<%=  el.downloadSpeed._ %>) && !isNaN(<%=  el.uploadSpeed._ %>) &&  !isNaN(<%=  el.ping._ %>)   ){
               totalDownload += <%=  el.downloadSpeed._ %>   
               totalUpload += <%=  el.uploadSpeed._ %>   
               totalPing += <%=  el.ping._ %> 
               count++
           }else{
                count--
           } 
           
      <%  });  %>  
      
 
            $('#avgDownload').attr('data-to', totalDownload / count);
            $('#avgUpload').attr('data-to', totalUpload / count);
            $('#avgPing').attr('data-to', totalPing / count);
        

        $(function () {

            $('#container').highcharts( {
                chart: {
                    type: 'column'
                },
                title: {
                    text: 'Comcast Speed Test Results'
                },
                subtitle: {
                    text: 'Daily'
                },
                xAxis: {
                    categories:dateTime,
                    title: {
                        text: 'Date Time'
                    },
                    crosshair: true
                },
                yAxis: {
                    min: 0,
                    title: {
                        text: 'Units'
                    }
                },
                tooltip: {
                    // shared: true
                        headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
                        pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
                            '<td style="padding:0"><b>{point.y:.1f}</b> Mbps</td></tr>',
                        footerFormat: '</table>',
                        shared: true,
                        useHTML: true
                },
                plotOptions: {
                series:{
                            turboThreshold:5000//larger threshold or set to 0 to disable
                        },
                   column: {
                        pointPadding: 0.2,
                        borderWidth: 0
                    }
                },
                series: [
                        {
                           name: "Download Speed",
                           type: 'column',
                           data:  downloadSpeed   }
                    ,{
                        name: "Upload Speed",
                        type: 'column',
                        data:  uploadSpeed   }
                    , {
                        name: "Committed Download Speed",
                        type: 'spline',
                        data:  actualDownloadSpeed   }

                    , {
                        name: "Committed Upload Speed",
                        type: 'spline',
                        data:  actualUploadSpeed   }

                    //, {
                    //    name: "Ping",
                    //    type: 'spline',
                    //    data:
                   //         ping
                   // } 
                ]
            });
        });
        
        
        $(function() {
 
                $("#historyStartDatepicker").datepicker({
                    dateFormat: 'yy-mm-dd',
                }).datepicker("setDate", new Date($("#historyStartDate").html()));

                $("#historyEndDatepicker").datepicker({
                    dateFormat: 'yy-mm-dd',
                }).datepicker("setDate", new Date($("#historyEndDate").html()));


            });
      
</script>

<!--high charts --> 
<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script src="https://cdn.datatables.net/1.10.10/js/jquery.dataTables.min.js"></script>
<!--datatable --> 
<!--
<script src="https://code.jquery.com/jquery-1.12.0.min.js"></script>-->
<!--<script src="https://cdn.datatables.net/1.10.10/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/buttons/1.1.1/js/dataTables.buttons.min.js"></script>
<script src="https://cdn.datatables.net/buttons/1.1.1/js/buttons.flash.min.js"></script>-->
<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/2.5.0/jszip.min.js"></script>
<script src="https://cdn.rawgit.com/bpampuch/pdfmake/0.1.18/build/pdfmake.min.js"></script>
<script src="https://cdn.rawgit.com/bpampuch/pdfmake/0.1.18/build/vfs_fonts.js"></script>
<script src="https://cdn.datatables.net/buttons/1.1.1/js/buttons.html5.min.js"></script>
<script src="https://cdn.datatables.net/buttons/1.1.1/js/buttons.print.min.js"></script>-->
      
    
 <link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
  <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>  
      
    </body>
</html>
